{"version":3,"sources":["actions/index.js","utils/index.js","components/search/search.js","components/search/index.js","components/suggestions/suggestions.js","components/suggestions/index.js","components/forecast-tabs/index.js","components/forecast-tabs/forecast-tabs.js","components/weather-card/img/500.svg","components/weather-card/img/501.svg","components/weather-card/img/600.svg","components/weather-card/img/601.svg","components/weather-card/img/602.svg","components/weather-card/img/611.svg","components/weather-card/img/612.svg","components/weather-card/img/616.svg","components/weather-card/img/701.svg","components/weather-card/img/711.svg","components/weather-card/img/721.svg","components/weather-card/img/731.svg","components/weather-card/img/741.svg","components/weather-card/img/751.svg","components/weather-card/img/761.svg","components/weather-card/img/762.svg","components/weather-card/img/771.svg","components/weather-card/img/781.svg","components/weather-card/img/800.svg","components/weather-card/img/801.svg","components/weather-card/img/802.svg","components/weather-card/img/803.svg","components/weather-card/img/804.svg","components/weather-card/img/icons/pressure.svg","components/weather-card/img/icons/humidity.svg","components/weather-card/img/icons/wind.svg","components/weather-card/img/index.js","components/weather-tabs/index.js","components/weather-tabs/weather-tabs.js","components/weather-card/index.js","components/weather-card/weather-card.js","components/weather-card/templates/current.js","components/weather-card/templates/one-day.js","components/weather-card/templates/seven-days.js","components/notification/index.js","components/notification/notification.js","components/spinner/index.js","components/spinner/spinner.js","components/error-boundary/error-boundary.js","components/error-boundary/index.js","components/app/app.js","components/app/index.js","reducers/index.js","services/weather-service.js","services/city-service.js","store.js","index.js"],"names":["fetchSearchInput","payload","type","returnTabId","activeTabId","Number","slice","returnStructuredPath","path","regExp","result","matchAll","length","groups","structuredPathCity","structuredPathParameter","singleCity","city","parameter","returnBackground","id","timesOfDay","bgcPath","day","night","mapDispatchToProps","Search","connect","value","searchInput","submitFunc","onsubmit","evt","preventDefault","toUpperCase","className","autoFocus","placeholder","onChange","target","onFocus","status","onSubmit","Suggestions","withRouter","suggestionsArr","history","location","pathname","map","country","region_with_type","to","exact","onClick","ForecastTabs","children","title","url","WeatherImgCollections","id500","id501","id600","id601","id602","id611","id612","id616","id701","id711","id721","id731","id741","id751","id761","id762","id771","id781","id800","id801","id802","id803","id804","WeatherIcons","pressure","humidity","wind","WeatherTabs","daily","weatherForecasts","start","end","componentsArr","tabId","i","date","temp","description","weatherId","NavLinkPath","img","component","month","src","alt","push","WeatherCard","current","selectedTemplate","template","dayId","timeOfDay","sunriseTime","sunsetTime","feelingTemp","windSpeed","windDirection","backgroundStyle","backgroundImage","style","hours","minutes","short","currentTemplate","weekday","morn","oneDayTemplate","values","shortMonth","sevenDaysTemplate","Notification","Spinner","ErrorBoundary","state","hasError","this","setState","props","emptyComponent","Component","App","loading","timer","forecastTabData","sendForecast","a","fetchOneCallForecast","then","forecast","fetchForecast","cityNotFound","catch","searchSubmit","currentPath","pathRest","sendSuggestions","string","fetchCityPrompt","suggestions","fetchSuggestions","inputFocus","dataset","suggestion","search","pathCity","document","addEventListener","prevProps","prevPathCity","clearTimeout","setTimeout","routes","suggestionsBlock","searchInputStatus","render","match","params","test","initialState","convertForecast","seconds","timeZoneOffsetSeconds","Date","getTimezoneOffset","returnIntlDate","options","Intl","DateTimeFormat","format","toString","getMonth","hour","minute","getDate","number","fractionDigits","toFixed","Math","round","String","seaLevel","deg","full","currentTime","timezoneOffset","convertedTemp","convertedFeelingTemp","dt","sunrise","sunset","feels_like","weather","wind_speed","wind_deg","weatherObj","timezone_offset","fetchCityCoordinates","coord","lat","lon","fetch","json","data","err","Promise","r","reject","query","filter","toLowerCase","includes","reduce","accum","find","trim","method","mode","headers","body","JSON","stringify","count","response","error","reducer","action","store","createStore","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.bd44760a.chunk.js","sourcesContent":["// payload сл структуры: {city, cityNotFound, forecast}\r\nconst fetchForecast = (payload) =>({\r\n    type: `FETCH_FORECAST`,\r\n    payload\r\n});\r\n// payload сл структуры: [{city, country, region_with_type}...]\r\nconst fetchSuggestions = (payload) =>({\r\n    type: `FETCH_SUGGESTIONS`,\r\n    payload\r\n});\r\n\r\n// payload сл структуры: {value, status}, поля не обязательные\r\nconst fetchSearchInput = (payload) =>({\r\n    type: `FETCH_SEARCH_INPUT`,\r\n    payload\r\n});\r\n\r\nexport {\r\n  fetchForecast,\r\n  fetchSuggestions,\r\n  fetchSearchInput,\r\n}","\r\n// возвращает id таба\r\nconst returnTabId = (activeTabId) => Number(activeTabId.slice(0,1)) - 1;\r\n\r\n// возвращает объект со структурно разбитым url\r\nconst returnStructuredPath = (path) => {\r\n  const regExp = /^(\\/(?<structuredPathCity>.+)\\/)(?<structuredPathParameter>[a-z0-9-]+)|^\\/(?<singleCity>[^/]+)\\/?/gm;\r\n  let result = [...path.matchAll(regExp)];\r\n\r\n  if (result.length > 0) {\r\n    const {structuredPathCity, structuredPathParameter, singleCity} = result[0].groups;\r\n\r\n    if (structuredPathCity && structuredPathParameter) {\r\n      return {\r\n        city: structuredPathCity,\r\n        parameter: structuredPathParameter\r\n      }\r\n    }\r\n    if (singleCity) {\r\n      return {\r\n        city: singleCity,\r\n        parameter: ``\r\n      };\r\n    }\r\n  }\r\n  return {\r\n    city: ``,\r\n    parameter: ``\r\n  };\r\n}\r\n\r\n// возвращает bgc в соответствии с id погоды\r\nconst returnBackground = (id, timesOfDay) =>{\r\n\r\n  let bgcPath = ``;\r\n\r\n  // cloud weather\r\n  if (id >= 801 && id <=804){\r\n    bgcPath = {\r\n      day: `d_c.jpg`,\r\n      night: `n_c.jpg`\r\n    } ;\r\n  }\r\n\r\n  //rain weather\r\n  if (id >= 500 && id <=531){\r\n    bgcPath = {\r\n      day: `d_r.webp`,\r\n      night: `n_r.jpg`\r\n    } ;\r\n  }\r\n\r\n  // snowy weather\r\n  if (id >= 600 && id <=622){\r\n    bgcPath = {\r\n      day: `d_s.jpg`,\r\n      night: `n_s.jpg`\r\n    } ;\r\n  }\r\n\r\n  //clear weather\r\n  if (id === 800){\r\n    bgcPath = {\r\n      day: `d.jpg`,\r\n      night: `n.png`\r\n    } ;\r\n  }\r\n\r\n  return `url(/backgrounds/${timesOfDay}/${bgcPath[timesOfDay]})`;\r\n}\r\n\r\nexport {\r\n  returnBackground,\r\n  returnTabId,\r\n  returnStructuredPath,\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {fetchSearchInput} from \"../../actions\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./search.scss\";\r\n\r\nconst Search = ({submitFunc, value, fetchSearchInput}) =>{\r\n\r\n  // отправляем в store значение input\r\n  const onchange = ({target:{value}}) => fetchSearchInput({value});\r\n\r\n  // при фокусе input сменяем в store inputStatus\r\n  const onFocus = () => fetchSearchInput({status:true});\r\n\r\n  // при событии форматируем строку, отправляем в store, и меняем url в соответствии со строкой\r\n  onsubmit = (evt) =>{\r\n    evt.preventDefault();\r\n    if (value){\r\n      value = value[0].toUpperCase() + value.slice(1);\r\n      fetchSearchInput({value});\r\n      submitFunc(value);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className=\"search\">\r\n      <form className=\"search__form\">\r\n        <input type=\"text\" className=\"search__input\" autoFocus placeholder=\"Введите город\" onChange={onchange} value={value}\r\n               onFocus={onFocus} data-search/>\r\n        <button className=\"search__button\" type=\"submit\" onSubmit={onsubmit} data-search>Поиск</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({searchInput: {value}}) => ({value});\r\n\r\nconst mapDispatchToProps = {fetchSearchInput}\r\n\r\nSearch.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  submitFunc: PropTypes.func.isRequired,\r\n  fetchSearchInput: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","import Search from \"./search\";\r\nexport default Search;","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {fetchSearchInput} from \"../../actions\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {returnStructuredPath} from \"../../utils\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./suggestions.scss\";\r\n\r\nconst Suggestions = ({suggestionsArr, fetchSearchInput, history}) =>{\r\n\r\n  const {parameter} = returnStructuredPath(history.location.pathname);\r\n\r\n  // преобразуем массив городов в массив react элементов\r\n  suggestionsArr = suggestionsArr.map(({city, country, region_with_type}, id) =>{\r\n\r\n    // в случае, если в существующем url присутствует параметр, добавляем его в link\r\n    let path = (parameter !== ``) ? `/${city}/${parameter}`: `/${city}/`;\r\n\r\n    // по клику меняем inputStatus и отправляем значение city для search-input\r\n    const clickFunc = () =>{\r\n      fetchSearchInput({status: false, value: city});\r\n    }\r\n\r\n    return (\r\n      <NavLink className=\"suggestion\" to={path} data-suggestion key={id} exact onClick={clickFunc}>\r\n        <span className=\"suggestion__city\" data-suggestion>{city}</span> <span className=\"suggestion__region\" data-suggestion>{`${region_with_type}, ${country}`}</span>\r\n      </NavLink>\r\n    );\r\n  });\r\n\r\n  return (<div className=\"suggestions\" data-suggestions>{suggestionsArr}</div>);\r\n}\r\n\r\nconst mapStateToProps = () => ({});\r\n\r\nconst mapDispatchToProps = {fetchSearchInput}\r\n\r\nSuggestions.propTypes = {\r\n  suggestionsArr: PropTypes.arrayOf(PropTypes.shape({\r\n    city: PropTypes.string.isRequired,\r\n    country: PropTypes.string.isRequired,\r\n    region_with_type: PropTypes.string.isRequired,\r\n  })),\r\n  fetchSearchInput: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Suggestions));","import Suggestions from \"./suggestions\";\r\nexport default Suggestions;","import ForecastTabs from \"./forecast-tabs\";\r\nexport default ForecastTabs;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nimport \"./forecast-tabs.scss\";\r\n\r\n// компонент переключатель видов прогноза\r\nconst ForecastTabs = ({city, children}) =>(\r\n  <ul className=\"forecast-tabs\">\r\n    {children.map(({id, title, url}) =>\r\n      <li className=\"forecast-tab\" key={id}><NavLink to={`/${city}/${url}`} exact>{title}</NavLink></li>\r\n    )}\r\n  </ul>);\r\n\r\nForecastTabs.propTypes = {\r\n  city: PropTypes.string.isRequired,\r\n  children: PropTypes.arrayOf(PropTypes.object).isRequired\r\n}\r\n\r\nexport default ForecastTabs;","export default __webpack_public_path__ + \"static/media/500.37505976.svg\";","export default __webpack_public_path__ + \"static/media/501.93e28347.svg\";","export default __webpack_public_path__ + \"static/media/600.db84f9d2.svg\";","export default __webpack_public_path__ + \"static/media/601.2c04d126.svg\";","export default __webpack_public_path__ + \"static/media/602.cd923bf4.svg\";","export default __webpack_public_path__ + \"static/media/611.5f3378e1.svg\";","export default __webpack_public_path__ + \"static/media/612.dcfd8a33.svg\";","export default __webpack_public_path__ + \"static/media/616.5f3378e1.svg\";","export default __webpack_public_path__ + \"static/media/701.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/711.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/721.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/731.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/741.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/751.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/761.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/762.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/771.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/781.116dc113.svg\";","export default __webpack_public_path__ + \"static/media/800.81717d99.svg\";","export default __webpack_public_path__ + \"static/media/801.9a05e411.svg\";","export default __webpack_public_path__ + \"static/media/802.98ccbaba.svg\";","export default __webpack_public_path__ + \"static/media/803.9a05e411.svg\";","export default __webpack_public_path__ + \"static/media/804.98ccbaba.svg\";","export default __webpack_public_path__ + \"static/media/pressure.e54f8c71.svg\";","export default __webpack_public_path__ + \"static/media/humidity.9a365bd0.svg\";","export default __webpack_public_path__ + \"static/media/wind.32483f4b.svg\";","import id500 from \"./500.svg\";\r\nimport id501 from \"./501.svg\";\r\nimport id600 from \"./600.svg\";\r\nimport id601 from \"./601.svg\";\r\nimport id602 from \"./602.svg\";\r\nimport id611 from \"./611.svg\";\r\nimport id612 from \"./612.svg\";\r\nimport id616 from \"./616.svg\";\r\nimport id701 from \"./701.svg\";\r\nimport id711 from \"./711.svg\";\r\nimport id721 from \"./721.svg\";\r\nimport id731 from \"./731.svg\";\r\nimport id741 from \"./741.svg\";\r\nimport id751 from \"./751.svg\";\r\nimport id761 from \"./761.svg\";\r\nimport id762 from \"./762.svg\";\r\nimport id771 from \"./771.svg\";\r\nimport id781 from \"./781.svg\";\r\nimport id800 from \"./800.svg\";\r\nimport id801 from \"./801.svg\";\r\nimport id802 from \"./802.svg\";\r\nimport id803 from \"./803.svg\";\r\nimport id804 from \"./804.svg\";\r\nimport pressure from \"./icons/pressure.svg\";\r\nimport humidity from \"./icons/humidity.svg\";\r\nimport wind from \"./icons/wind.svg\";\r\n\r\nconst WeatherImgCollections = {\r\n  id500,\r\n  id501,\r\n  id600,\r\n  id601,\r\n  id602,\r\n  id611,\r\n  id612,\r\n  id616,\r\n  id701,\r\n  id711,\r\n  id721,\r\n  id731,\r\n  id741,\r\n  id751,\r\n  id761,\r\n  id762,\r\n  id771,\r\n  id781,\r\n  id800,\r\n  id801,\r\n  id802,\r\n  id803,\r\n  id804,\r\n}\r\n\r\nconst WeatherIcons = {\r\n  pressure,\r\n  humidity,\r\n  wind\r\n}\r\n\r\nexport {\r\n  WeatherImgCollections,\r\n  WeatherIcons\r\n}","import WeatherTabs from \"./weather-tabs\";\r\nexport default WeatherTabs;","import React from \"react\";\r\nimport {returnTabId} from \"../../utils\";\r\nimport {connect} from \"react-redux\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {WeatherImgCollections} from \"../weather-card/img\";\r\nimport \"./weather-tabs.scss\";\r\n\r\nconst WeatherTabs = ({daily, city, activeTabId}) =>{\r\n\r\n  let start, end, componentsArr = [];\r\n\r\n  // в зависимости от номера активного таба, получаем нумерацию предыдущего и последующего таба\r\n  if (activeTabId){\r\n\r\n    const tabId = returnTabId(activeTabId);\r\n\r\n    if (tabId > 0 && tabId < daily.length - 1){\r\n      start = tabId - 1;\r\n      end = tabId + 1;\r\n    }\r\n\r\n    else if (tabId === daily.length - 1){\r\n      start = tabId - 2;\r\n      end = tabId;\r\n    }\r\n  }\r\n  else {\r\n    start = 0;\r\n    end = 2;\r\n  }\r\n\r\n  // составляем массив react элементов\r\n  for (let i = start; i <= end; i++){\r\n\r\n    const {date, temp:{day, night}, description, weatherId } = daily[i];\r\n\r\n    let NavLinkPath = (i === 0) ? `/${city}/` : `/${city}/${i + 1}-day`;\r\n\r\n    const img = WeatherImgCollections[`id${weatherId}`];\r\n\r\n    let component = (\r\n      <li key={i} className=\"weather-tab__wrap\">\r\n        <NavLink to={NavLinkPath} className=\"weather-tab\" exact>\r\n          <div className=\"weather-tab__row\">\r\n            <p className=\"weather-tab__date\">{date.day} {date.month}</p>\r\n          </div>\r\n          <div className=\"weather-tab__row\">\r\n            <div>\r\n              <p className=\"weather-tab__temperature\">{day}</p>\r\n              <p className=\"weather-tab__temperature\">{night}</p>\r\n            </div>\r\n            <img src={img} alt={description} className=\"weather-tab__icon\"/>\r\n          </div>\r\n        </NavLink>\r\n      </li>\r\n    );\r\n    componentsArr.push(component)\r\n  }\r\n\r\n  return (<ul className=\"weather-tabs\">{componentsArr}</ul>);\r\n}\r\n\r\nconst mapStateToProps = ({city, weatherForecasts:{daily}}) =>({city, daily});\r\n\r\nWeatherTabs.propTypes = {\r\n  activeTabId : PropTypes.string,\r\n  city : PropTypes.string.isRequired,\r\n  daily : PropTypes.arrayOf(PropTypes.object).isRequired\r\n};\r\n\r\nexport default connect(mapStateToProps)(WeatherTabs);","import WeatherCard from \"./weather-card\";\r\nexport default WeatherCard;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {returnTabId} from \"../../utils\";\r\nimport PropTypes from \"prop-types\";\r\nimport {currentTemplate, oneDayTemplate, sevenDaysTemplate} from \"./templates\";\r\n\r\nimport \"./weather-card.scss\";\r\n\r\nconst WeatherCard = ({template, weatherForecasts, city, dayId}) => {\r\n  // в зависимости от шаблона по разному формируем карточку\r\n  const {current, daily} = weatherForecasts;\r\n\r\n  let selectedTemplate;\r\n\r\n  switch (template) {\r\n    case `current`:\r\n      selectedTemplate = currentTemplate(current, city);\r\n      break;\r\n    case `oneDay`:\r\n      dayId = returnTabId(dayId);\r\n      selectedTemplate =  oneDayTemplate(daily[dayId], city);\r\n      break;\r\n    case `sevenDays`:\r\n      selectedTemplate = sevenDaysTemplate(daily, city);\r\n      break;\r\n  }\r\n  return (<section className=\"weather-cards\">{selectedTemplate}</section>)\r\n  }\r\n\r\nconst mapStateToProps = ({weatherForecasts:{current, daily}, city}) => ({\r\n  weatherForecasts:{current, daily},\r\n  city\r\n});\r\n\r\nWeatherCard.propTypes = {\r\n  template: PropTypes.string.isRequired,\r\n  city: PropTypes.string.isRequired,\r\n  dayId: PropTypes.string,\r\n  weatherForecasts: PropTypes.shape({\r\n    current: PropTypes.object.isRequired,\r\n    daily: PropTypes.array.isRequired,\r\n  }).isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps)(WeatherCard);","import {returnBackground} from \"../../../utils\";\r\nimport React from \"react\";\r\n\r\n// шаблон прогноза для текущей погоды\r\nconst currentTemplate = (value, city) => {\r\n\r\n  const {date, timeOfDay, sunriseTime, sunsetTime, temp, feelingTemp, description, windSpeed, windDirection, pressure, humidity, weatherId} = value;\r\n\r\n  // получаем путь для bgc\r\n  const backgroundStyle = {\r\n    backgroundImage: returnBackground(weatherId, timeOfDay)\r\n  };\r\n\r\n  return (\r\n    <div className=\"weather-card--current\" style={backgroundStyle}>\r\n\r\n      <p className=\"weather-card--current__city\">{city}</p>\r\n      <p className=\"weather-card--current__date\">{`${date.day} ${date.month}, ${date.hours}:${date.minutes}`}</p>\r\n      <div className=\"weather-card--current__row\">\r\n        <span className=\"weather-card--current__sunrise\">{`восход ${sunriseTime.hours}:${sunriseTime.minutes}`}</span>\r\n        <span className=\"weather-card--current__temperature\">{temp}</span>\r\n        <span className=\"weather-card--current__sunset\">{`закат ${sunsetTime.hours}:${sunsetTime.minutes}`}</span>\r\n      </div>\r\n      <p className=\"weather-card--current__feeling\">по ощущению {feelingTemp}</p>\r\n      <p className=\"weather-card--current__description\">{description}</p>\r\n\r\n      <div className=\"weather-card--current__row\">\r\n        <div className=\"weather-card--current__fact\">\r\n          <div className=\"weather-card--current__icon wind\"></div>\r\n          <span>{windSpeed} м/с, {windDirection.short}</span>\r\n        </div>\r\n        <div className=\"weather-card--current__fact\">\r\n          <div className=\"weather-card--current__icon humidity\"></div>\r\n          <span>{humidity}%</span>\r\n        </div>\r\n        <div className=\"weather-card--current__fact\">\r\n          <div className=\"weather-card--current__icon pressure\"></div>\r\n          <span>{pressure} мм рт. ст.</span>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport {currentTemplate};","import React from \"react\";\r\nimport {WeatherIcons, WeatherImgCollections} from \"../img\";\r\n\r\n// шаблон прогноза на день\r\nconst oneDayTemplate = (value, city) => {\r\n\r\n  // преобразуем данные полученные от API\r\n  const {date, temp, feelingTemp, description, weatherId, windSpeed, windDirection, humidity, pressure} = value;\r\n\r\n  return (\r\n    <div className=\"weather-card--extended\">\r\n\r\n      <div className=\"weather-card--extended__row\">\r\n        <span className=\"weather-card--extended__city\">{city}</span>\r\n        <p className=\"weather-card--extended__date\">{`${date.weekday}`} <br/> {`${date.day} ${date.month}`}</p>\r\n      </div>\r\n\r\n      <div className=\"weather-card--extended__row pd\">\r\n\r\n        <div className=\"weather-card--extended__row-item\">\r\n          <p className=\"weather-card--extended__time-of-day\">Утром</p>\r\n          <p className=\"weather-card--extended__temperature\">{temp.morn}</p>\r\n        </div>\r\n\r\n        <div className=\"weather-card--extended__row-item\">\r\n          <p className=\"weather-card--extended__time-of-day\">Днем</p>\r\n          <p className=\"weather-card--extended__temperature\">{temp.day}</p>\r\n        </div>\r\n\r\n        <div className=\"weather-card--extended__row-item\">\r\n          <p className=\"weather-card--extended__time-of-day\">Ночью</p>\r\n          <p className=\"weather-card--extended__temperature\">{temp.night}</p>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div className=\"weather-card--extended__row\">\r\n        <p className=\"weather-card--extended__feelings\">Ощущается как:</p>\r\n      </div>\r\n\r\n      <div className=\"weather-card--extended__row pd\">\r\n\r\n        <div className=\"weather-card--extended__row-item\">\r\n          <p className=\"weather-card--extended__temperature\">{feelingTemp.morn}</p>\r\n        </div>\r\n\r\n        <div className=\"weather-card--extended__row-item\">\r\n          <p className=\"weather-card--extended__temperature\">{feelingTemp.day}</p>\r\n\r\n        </div>\r\n\r\n        <div className=\"weather-card--extended__row-item\">\r\n          <p className=\"weather-card--extended__temperature\">{feelingTemp.night}</p>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div className=\"weather-card--extended__facts\">\r\n\r\n        <div className=\"weather-card--extended__row jcl\">\r\n          <img src={WeatherImgCollections[`id${weatherId}`]} alt=\"\"\r\n               className=\"weather-card--extended__characteristic-icon\"/>\r\n          <p className=\"weather-card--extended__fact\">{description}</p>\r\n        </div>\r\n\r\n        <div className=\"weather-card--extended__row jcl\">\r\n          <img src={WeatherIcons.wind} alt=\"\" className=\"weather-card--extended__characteristic-icon\"/>\r\n          <p className=\"weather-card--extended__fact\">Скорость ветра {windSpeed} м/с {windDirection.short}</p>\r\n        </div>\r\n        <div className=\"weather-card--extended__row jcl\">\r\n          <img src={WeatherIcons.humidity} alt=\"\" className=\"weather-card--extended__characteristic-icon\"/>\r\n          <p className=\"weather-card--extended__fact\">Влажность {humidity}%</p>\r\n        </div>\r\n        <div className=\"weather-card--extended__row jcl\">\r\n          <img src={WeatherIcons.pressure} alt=\"\" className=\"weather-card--extended__characteristic-icon\"/>\r\n          <p className=\"weather-card--extended__fact\">Давление {pressure} мм рт. ст.</p>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport {oneDayTemplate};","import {WeatherImgCollections} from \"../img\";\r\nimport React from \"react\";\r\n\r\n// шаблон прогноза на неделю\r\nconst sevenDaysTemplate = (values, city) =>(\r\n  values.map((value, id) => {\r\n\r\n    const {date, temp, description, weatherId} = value;\r\n\r\n    // получаем изображение из коллекции\r\n    const img = WeatherImgCollections[`id${weatherId}`];\r\n\r\n    return (\r\n      <div className=\"weather-card\" key={id}>\r\n        <div className=\"weather-card__row\">\r\n          <p className=\"weather-card__city\">{city}</p>\r\n          <div className=\"weather-card__date\">\r\n            <p className=\"weather-card__day\">{date.day}</p>\r\n            <p className=\"weather-card__month\">{date.shortMonth}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"weather-card__row\">\r\n          <div>\r\n            <p className=\"weather-card__temperature\">{temp.day}</p>\r\n            <p className=\"weather-card__temperature\">{temp.night}</p>\r\n          </div>\r\n          <img src={img} alt={description} className=\"weather-card__icon\"/>\r\n        </div>\r\n        <span className=\"weather-card__description\">{description}</span>\r\n      </div>\r\n    );\r\n  }));\r\n\r\nexport {sevenDaysTemplate};","import Notification from \"./notification\";\r\nexport default Notification;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./notification.scss\";\r\n\r\nconst Notification = ({children}) => (<div className=\"notification\">{children}</div>);\r\n\r\nNotification.propTypes = {\r\n  children: PropTypes.string\r\n}\r\n\r\nexport default Notification;","import Spinner from \"./spinner\";\r\nexport default Spinner;","import React from \"react\";\r\n\r\nimport \"./spinner.scss\";\r\n\r\nconst Spinner = () =>(\r\n    <div className=\"spinner\">\r\n      <div className=\"loadingio-spinner-eclipse-b6jeeda3c3b\">\r\n        <div className=\"ldio-qcrx01p4y3\">\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>);\r\n\r\nexport default Spinner;","import React, {Component} from \"react\";\r\nimport Notification from \"../notification\";\r\n\r\nexport default class ErrorBoundary extends Component {\r\n\r\n  state = {\r\n    hasError: false\r\n  }\r\n\r\n  componentDidCatch() {\r\n    this.setState({hasError: true});\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.state.hasError) {\r\n      if (this.props.emptyComponent) {\r\n        return <></>;\r\n      }\r\n      return <Notification>{`Что-то пошло не так`}</Notification>\r\n    }\r\n    return this.props.children;\r\n  }\r\n}","import ErrorBoundary from \"./error-boundary\";\r\nexport default ErrorBoundary;","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {fetchForecast, fetchSuggestions, fetchSearchInput} from \"../../actions\";\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport {returnStructuredPath} from \"../../utils\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Search from \"../search\";\r\nimport Suggestions from \"../suggestions\";\r\nimport ForecastTabs from \"../forecast-tabs\";\r\nimport WeatherTabs from \"../weather-tabs\";\r\nimport WeatherCard from \"../weather-card\";\r\nimport Notification from \"../notification\";\r\nimport Spinner from \"../spinner\";\r\nimport ErrorBoundary from \"../error-boundary\";\r\nimport \"./app.scss\";\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    loading: false,\r\n    timer: null\r\n  };\r\n\r\n  // данные для forecastTabs\r\n  forecastTabData = [\r\n    {id: 0, title: `Сейчас`, url: `now`},\r\n    {id: 1, title: `Сегодня`, url: ``},\r\n    {id: 2, title: `Завтра`, url: `2-day`},\r\n    {id: 3, title: `7 дней`, url: `week`},\r\n  ];\r\n\r\n  // отправить в store прогноз и текущий город\r\n  sendForecast = async (city) =>{\r\n\r\n    this.setState({loading:true});\r\n\r\n    await this.props.fetchOneCallForecast(city)\r\n      .then((forecast) => this.props.fetchForecast({forecast, city, cityNotFound: false}))\r\n      .catch(() => this.props.fetchForecast({forecast:{}, city, cityNotFound: true}))\r\n\r\n    this.setState({loading:false});\r\n  }\r\n\r\n  // при submit пушим значение в url\r\n  searchSubmit = async (city) => {\r\n    const currentPath = this.props.history.location.pathname;\r\n    const {parameter: pathRest} = returnStructuredPath(currentPath);\r\n    this.props.history.push(`/${city}/${pathRest}`);\r\n  }\r\n\r\n  // отправить в store city suggestions\r\n  sendSuggestions = async (string) => {\r\n    let suggestions = await this.props.fetchCityPrompt(string);\r\n    this.props.fetchSuggestions(suggestions);\r\n  }\r\n\r\n  // handler для смены статуса активности search-input (при false не будет показан блок suggestions)\r\n  inputFocus = ({target:{dataset}}) =>{\r\n    if (!dataset.suggestion && !dataset.search && this.props.searchInput.status){\r\n      this.props.fetchSearchInput({status:false});\r\n    }\r\n  }\r\n\r\n  // после монтирования проверяем url и назначаем обработчик\r\n  componentDidMount() {\r\n    const {city: pathCity} = returnStructuredPath(this.props.location.pathname);\r\n    document.addEventListener(`click`, this.inputFocus);\r\n\r\n    // если в url присутствует город, получаем прогноз и отправляем его в store\r\n    if (pathCity) {this.sendForecast(pathCity);}\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {city: pathCity} = returnStructuredPath(this.props.location.pathname);\r\n    const {city: prevPathCity} = returnStructuredPath(prevProps.location.pathname);\r\n\r\n    // в случае изменения города в url получаем и отправляем в store обновленный прогноз\r\n    if (pathCity && pathCity !== prevPathCity) {\r\n      this.sendForecast(pathCity);\r\n    }\r\n\r\n    // при вводе в input ставим таймер на отправку в store найденных городов\r\n    if (prevProps.searchInput.value !== this.props.searchInput.value) {\r\n      clearTimeout(this.state.timer);\r\n      this.setState({timer: setTimeout(() =>\r\n        this.sendSuggestions(this.props.searchInput.value),300)});\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const {city, weatherForecasts: {daily, current}, suggestions, searchInput:{status: searchInputStatus}, cityNotFound} = this.props;\r\n    const {loading} = this.state;\r\n\r\n    let routes, suggestionsBlock;\r\n\r\n    if (daily && current && city && !cityNotFound && !loading) {\r\n      routes = (\r\n        <ErrorBoundary>\r\n          <Route render={() =>(\r\n            <ForecastTabs city={city}>{this.forecastTabData}</ForecastTabs>)}/>\r\n\r\n          <Route path={`/${city}/now`} exact\r\n                 render={() => (<WeatherCard template=\"current\"/>)}/>\r\n\r\n          <Route path={`/${city}/`} exact render={({match:{params:{id}}}) =>\r\n             (<><WeatherTabs activeTabId={id}/>\r\n                <WeatherCard template=\"oneDay\" dayId=\"1-day\"/></>)\r\n          }/>\r\n\r\n          <Route path={`/${city}/:id`} exact render={({match}) => {\r\n\r\n            const {id} = match.params;\r\n\r\n            const pathRegExp = /\\d+-day/gm;\r\n\r\n            if (!pathRegExp.test(id)) {\r\n              return;\r\n            }\r\n\r\n            return (<><WeatherTabs activeTabId={id}/>\r\n                      <WeatherCard template=\"oneDay\" dayId={id}/></>);\r\n          }}/>\r\n\r\n          <Route path={`/${city}/week`} exact\r\n                 render={() => (<WeatherCard template=\"sevenDays\"/>)}/>\r\n        </ErrorBoundary>);\r\n    }\r\n\r\n    if (cityNotFound){\r\n      routes = <Notification>{`Данный город не найден`}</Notification>;\r\n    }\r\n\r\n    if (suggestions && searchInputStatus){\r\n      suggestionsBlock = <ErrorBoundary emptyComponent={true}><Suggestions suggestionsArr={suggestions}/></ErrorBoundary>\r\n    }\r\n\r\n    return (<>\r\n      <Route path={`/`} render={() =>\r\n        (<><Search submitFunc={this.searchSubmit}/>\r\n         {suggestionsBlock}</>)\r\n      }/>\r\n      {loading && <Spinner/>}\r\n      {routes}</>);\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  fetchCityPrompt: PropTypes.func.isRequired,\r\n  fetchOneCallForecast: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  location: PropTypes.object.isRequired,\r\n  fetchForecast: PropTypes.func.isRequired,\r\n  fetchSearchInput: PropTypes.func.isRequired,\r\n  fetchSuggestions: PropTypes.func.isRequired,\r\n  city: PropTypes.string.isRequired,\r\n  cityNotFound: PropTypes.bool.isRequired ,\r\n  searchInput: PropTypes.shape({\r\n    value: PropTypes.string.isRequired,\r\n    status: PropTypes.bool.isRequired\r\n  }).isRequired,\r\n  weatherForecasts: PropTypes.shape({\r\n    current: PropTypes.object,\r\n    daily: PropTypes.array\r\n  }).isRequired}\r\n\r\nconst mapDispatchToProps ={\r\n    fetchForecast,\r\n    fetchSuggestions,\r\n    fetchSearchInput\r\n}\r\n\r\nconst mapStateToProps = (state) => ({...state});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));","import App from \"./app\";\r\nexport default App;","import WeatherService from \"../services/weather-service\";\r\nimport CityService from \"../services/city-service\";\r\n\r\nconst initialState = {\r\n  fetchOneCallForecast: new WeatherService().fetchOneCallForecast,\r\n  fetchCityPrompt: new CityService().fetchCityPrompt,\r\n  weatherForecasts: {},\r\n  city: ``,\r\n  searchInput:{\r\n    value:``,\r\n    status: false\r\n  },\r\n  cityNotFound: false,\r\n  suggestions:[]\r\n}\r\n\r\nconst reducer = (state = initialState, action) =>{\r\n  switch (action.type) {\r\n    // получение прогнозов (daily, current), города, и статуса, найден ли город\r\n    case `FETCH_FORECAST`:\r\n      return {\r\n        ...state,\r\n        weatherForecasts: {\r\n          ...action.payload.forecast\r\n        },\r\n        city: action.payload.city,\r\n        cityNotFound: action.payload.cityNotFound\r\n      }\r\n    // получение массива поисковых предложений\r\n    case `FETCH_SUGGESTIONS`:\r\n      return {\r\n        ...state,\r\n        suggestions: action.payload\r\n      }\r\n    // получение информации по поисковой строке (статус и значение)\r\n    case `FETCH_SEARCH_INPUT`:\r\n      return {\r\n        ...state,\r\n        searchInput:{\r\n          ...state.searchInput,\r\n          ...action.payload\r\n        }\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;","\r\nexport default class WeatherService {\r\n\r\n  #coordinatesPath = `https://api.openweathermap.org/data/2.5/weather?appid=61fdf6f7410c8d947a85a69de8f6587d`;\r\n  #weatherPath = `https://api.openweathermap.org/data/2.5/onecall?appid=61fdf6f7410c8d947a85a69de8f6587d&units=metric&lang=ru&exclude=minutely,hourly,alerts`;\r\n\r\n  convertForecast = new class {\r\n\r\n  // возвращает преобразованное время в мс в соответствии с timeZoneOffset\r\n  #returnLocalTimeMs = (seconds, timeZoneOffsetSeconds) =>{\r\n    let date = new Date(seconds * 1000)\r\n\r\n    return (seconds * 1000) + (date.getTimezoneOffset() * 60 * 1000) + timeZoneOffsetSeconds * 1000;\r\n  }\r\n\r\n  #returnDetailedDate = (seconds, timeZoneOffsetSeconds) =>{\r\n\r\n    let date;\r\n\r\n    if (timeZoneOffsetSeconds){\r\n      date = new Date(this.#returnLocalTimeMs(seconds, timeZoneOffsetSeconds));\r\n    }\r\n    else {\r\n      date = new Date(seconds * 1000);\r\n    }\r\n\r\n    const shortMonthTemplates = {\r\n      1: `янв`, 2: `фев`, 3: `марта`,\r\n      4: `апр`, 5: `мая`, 6: `июня`,\r\n      7: `июля`, 8: `авг`, 9: `сент`,\r\n      10: `окт`, 11: `нояб`, 12: `дек`\r\n    };\r\n\r\n    const returnIntlDate = (options) => new Intl.DateTimeFormat(`ru`, options).format(date);\r\n\r\n    // опции сформированы таким образом, чтобы месяц был в нужном падеже, а после его отделяем от дня\r\n    const month = returnIntlDate({\r\n      day: `numeric`,\r\n      month: \"long\"\r\n    }).match(/[а-яА-я]+$/gm).toString();\r\n    let shortMonth = shortMonthTemplates[(date.getMonth() + 1)];\r\n\r\n    // опция `2-digit` не работает для minute, поэтому вырезаем результат из полноценной даты\r\n    const minutes = returnIntlDate({hour:`2-digit`, minute:`2-digit`}).slice(3);\r\n\r\n    return{\r\n      day: date.getDate(),\r\n      month,\r\n      shortMonth,\r\n      weekday: returnIntlDate({weekday: `long`}),\r\n      hours: returnIntlDate({hour: `2-digit`}),\r\n      minutes\r\n    }\r\n  }\r\n\r\n  // возвращает строку с температурой, при необходимости можно задать кол-во цифр после запятой\r\n  #returnTemperature = (number, fractionDigits) =>{\r\n    number = (fractionDigits) ? number.toFixed(fractionDigits) : Math.round(number);\r\n\r\n    if (number > 0){\r\n      return `+${number}°c`\r\n    }\r\n    else if(number < 0){\r\n      return `−${String(number).slice(1)}°c`\r\n    }\r\n    return `${number}°c`\r\n  }\r\n\r\n// переводит значение давления над уровнем моря в мм рт. ст.\r\n  #returnAtmospherePressure = (seaLevel) => Math.round(seaLevel / 1.36);\r\n\r\n// возвращает направление ветра в зависимости от градуса\r\n  #returnWindDirection = (deg) =>{\r\n    if ((deg >= 337.5 && deg <= 360) || (deg >= 0 && deg < 22.5) ){\r\n      return {full: `Северный`, short: `C`};\r\n    }\r\n    if (deg >= 22.5 && deg < 67.5){\r\n      return {full: `Северо-восточный`, short: `CВ`};\r\n    }\r\n    if (deg >= 67.5 && deg < 112.5){\r\n      return {full: `Восточный`, short: `В`};\r\n    }\r\n    if (deg >= 112.5 && deg < 157.5){\r\n      return {full: `Юго-восточный`, short: `ЮВ`};\r\n    }\r\n    if (deg >= 157.5 && deg < 202.5){\r\n      return {full: `Южный`, short: `Ю`};\r\n    }\r\n    if (deg >= 202.5 && deg < 247.5){\r\n      return {full: `Юго-западный`, short: `ЮЗ`};\r\n    }\r\n    if (deg >= 247.5 && deg < 292.5){\r\n      return {full: `Западный`, short: `З`};\r\n    }\r\n    if (deg >= 292.5 && deg < 337.5){\r\n      return {full: `Северо-западный`, short: `CЗ`};\r\n    }\r\n  }\r\n\r\n  // возвращает время дня в зависимости от времени восхода/заката\r\n  #returnTimeOfDay = (currentTime, sunriseTime, sunsetTime, timeZoneOffsetSeconds) =>{\r\n\r\n    // приводим все значения к единому формату\r\n    currentTime = this.#returnLocalTimeMs(currentTime, timeZoneOffsetSeconds)\r\n    sunriseTime = this.#returnLocalTimeMs(sunriseTime, timeZoneOffsetSeconds)\r\n    sunsetTime = this.#returnLocalTimeMs(sunsetTime, timeZoneOffsetSeconds)\r\n\r\n    if(currentTime >= sunriseTime && currentTime <= sunsetTime){\r\n      return `day`;\r\n    }\r\n    return `night`;\r\n  }\r\n\r\n  // конвертирует полученный прогноз в необходимый для отображения вид\r\n  #convertSingleForecast = (value, timezoneOffset) =>{\r\n    let {dt, sunrise, sunset, feels_like, temp, weather, wind_speed, wind_deg, humidity, pressure} = value;\r\n\r\n    let convertedTemp, convertedFeelingTemp;\r\n\r\n    // в зависимости от типа прогноза, преобразуем данные необходимым образом\r\n    if (typeof temp === `object` && typeof feels_like === `object`){\r\n      convertedTemp = {\r\n        morn: this.#returnTemperature(temp.morn),\r\n        day: this.#returnTemperature(temp.day),\r\n        night: this.#returnTemperature(temp.night),\r\n      }\r\n      convertedFeelingTemp = {\r\n        morn: this.#returnTemperature(feels_like.morn),\r\n        day: this.#returnTemperature(feels_like.day),\r\n        night: this.#returnTemperature(feels_like.night),\r\n      }\r\n    }\r\n    else if (typeof temp === `number` && typeof feels_like === `number`){\r\n      convertedTemp = this.#returnTemperature(temp, 1);\r\n      convertedFeelingTemp = this.#returnTemperature(feels_like);\r\n    }\r\n\r\n    return {\r\n      date: this.#returnDetailedDate(dt, timezoneOffset),\r\n      timeOfDay: this.#returnTimeOfDay(dt, sunrise, sunset, timezoneOffset),\r\n      sunriseTime: this.#returnDetailedDate(sunrise, timezoneOffset),\r\n      sunsetTime: this.#returnDetailedDate(sunset, timezoneOffset),\r\n      temp: convertedTemp,\r\n      feelingTemp: convertedFeelingTemp,\r\n      description: weather[0].description,\r\n      windSpeed: wind_speed.toFixed(1),\r\n      windDirection: this.#returnWindDirection(wind_deg),\r\n      pressure: this.#returnAtmospherePressure(pressure),\r\n      humidity,\r\n      weatherId: weather[0].id\r\n    }\r\n  }\r\n\r\n  // конвертирует весь объект с прогнозами\r\n  convertForecast = (weatherObj) =>{\r\n    weatherObj.current = this.#convertSingleForecast(weatherObj.current, weatherObj.timezone_offset);\r\n    weatherObj.daily = weatherObj.daily.map((value) => this.#convertSingleForecast(value, weatherObj.timezone_offset))\r\n    return weatherObj;\r\n  }\r\n}().convertForecast;\r\n\r\n  // метод для получения множества типов прогноза\r\n  fetchOneCallForecast = async (city) => {\r\n    const coord = await this.fetchCityCoordinates(city);\r\n    if (coord){\r\n      const path = this.#weatherPath + `&lat=${coord.lat}&lon=${coord.lon}`\r\n      return fetch(path)\r\n        .then((result) => result.json())\r\n        .then((data) => this.convertForecast(data))\r\n        .catch((err) => err);\r\n    }\r\n    return new Promise((r, reject)=> reject(`Данный город не найден`));\r\n  }\r\n\r\n  // метод для получения координат запрошенного города\r\n  fetchCityCoordinates = (city) => (\r\n    fetch(this.#coordinatesPath + `&q=${city}`)\r\n      .then((result) => result.json())\r\n      .then((data) => data.coord)\r\n      .catch((err) => err));\r\n}","export default class CityService {\r\n  #url = \"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address\";\r\n  #token = \"f29add880face76a911482eca39455ab65d23208\";\r\n\r\n  // метод для преобразования массива suggestions\r\n   #transformSuggestions = (suggestions, query) =>{\r\n    suggestions = suggestions.filter(({data:{city}}) => {\r\n      // фильтруем массив, оставляя только те города, что соответствуют исходной строке\r\n      if (city) {\r\n        city = city.toLowerCase();\r\n        if (city.includes(query)) {\r\n          return true\r\n        }\r\n        return false;\r\n      }\r\n    }).map(({data: {city, region_with_type, country}}) =>\r\n      // облегчаем структуру, каждого объекта\r\n      ({\r\n        city,\r\n        region_with_type,\r\n        country\r\n      }))\r\n      .reduce((accum, value) =>{\r\n        // исключаем повторы в результатах\r\n        if (!accum.find(({city}) => city === value.city)){\r\n          accum.push(value)\r\n        }\r\n        return accum;\r\n      }, [])\r\n\r\n    // обрезаем массив если кол-во объектов > 10\r\n    if (suggestions.length > 10){\r\n      suggestions.length = 10;\r\n    }\r\n    return suggestions;\r\n  }\r\n\r\n  fetchCityPrompt = (query) =>{\r\n    query = query.toLowerCase().trim();\r\n    const options = {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Accept\": \"application/json\",\r\n        \"Authorization\": \"Token \" + this.#token\r\n      },\r\n      body: JSON.stringify({query, count:20})\r\n    }\r\n    return fetch(this.#url, options)\r\n      .then(response => response.json())\r\n      .then(({suggestions}) => this.#transformSuggestions(suggestions, query))\r\n      .catch(error => error);\r\n  }\r\n}","import {createStore} from \"redux\"\r\nimport reducer from \"./reducers\";\r\n\r\n// const middleware = () => (next) => (action) =>{\r\n//   console.log(action.type);\r\n//   console.log(action.payload);\r\n//   return next(action);\r\n// }\r\n\r\nconst store = createStore(reducer);\r\n\r\n\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./components/app\";\r\nimport {Provider} from \"react-redux\";\r\nimport store from \"./store\";\r\nimport {BrowserRouter as Router} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <Router>\r\n        <App/>\r\n      </Router>\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}